{% extends 'viewer/base.html' %}

{% block title %}User Search{% endblock %}

{% block content %}
    <h1>Search for a User</h1>
    <form action="{% url 'user_search' %}" method="get">
        <input type="text" name="q" placeholder="Enter user's name" value="{{ query|default:'' }}" style="padding: 0.5em; width: 300px; border: 1px solid #ccc; border-radius: 4px;">
        <button type="submit" style="padding: 0.5em 1em;">Search</button>
    </form>

    {% if users is not None %}
        <hr>
        <h3>Search Results for "{{ query }}"</h3>
        {% if users %}
            <ul class="results-list">
                {% for user in users %}
                    <li>
                        <a href="{% url 'user_orders' user.id %}">
                            {{ user.name }} ({{ user.email }})
                        </a>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No users found matching your query.</p>
        {% endif %}
    {% endif %}
{% endblock %}